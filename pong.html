<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pong Game</title>
<style>

.popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 10px 20px;
    border-radius: 5px;
    font-size: 18px;
    z-index: 9999;
  }
  body {
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: black;
  }
  canvas {
    border: 2px solid white;
  }
</style>
</head>
<body>
<canvas id="gameCanvas" width="800" height="600"></canvas>
<script>

  const canvas = document.getElementById("gameCanvas");
  const ctx = canvas.getContext("2d");

  const ball = {
    x: canvas.width / 2,
    y: canvas.height / 2,
    radius: 10,
    dx: 4,
    dy: -4,
  };

  const paddle = {
    width: 100,
    height: 10,
    x: (canvas.width - 100) / 2,
    y: canvas.height - 20,
    speed: 17,
  };

  function showMessage(message) {
    const popup = document.createElement("div");
    popup.className = "popup";
    popup.textContent = message;

    document.body.appendChild(popup);

    setTimeout(() => {
      document.body.removeChild(popup);
    }, 2000); // Popup will disappear after 2 seconds
  }
  function drawBall() {
    ctx.beginPath();
    ctx.arc(ball.x, ball.y, ball.radius, 0, Math.PI * 2);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.closePath();
  }

  function drawPaddle() {
    ctx.beginPath();
    ctx.rect(paddle.x, paddle.y, paddle.width, paddle.height);
    ctx.fillStyle = "white";
    ctx.fill();
    ctx.closePath();
  }

  function updateGameArea() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Update ball position
    ball.x += ball.dx;
    ball.y += ball.dy;

    // Ball goes out of bounds at the bottom
    //phrases = ["Haha, Pokey!", "Your Name Isn't Chris, Or Is It?", "God Is My Middle Name!", "You're Just As Good As Ms. Wangen!",
  //"Wow! Just As Good As My Pool Store!", "CTA'S WERE DUE YESTERDAY!!!", "Huh?", "Too Slow? Is This Misty D.?", "Even I Have Better Reflexes!",
  //"Fail, Fail, Fail! Just Like Your Grades!", "Ehm, Why Am I Here!?? -Misty D.", "Hehehe! The Ransom!", "Don't Even Call My Initials On That!!!"]
      phrases = ['Big Honking Mistake!!! -Karl', 'Do You Need Super Savic?? -B. Savic', 'Haaaah! Orange Skins For You! -J. Schatz', 'HAHAHA! You Finally Died! -K. Meyer',
    'I Ordered Chicken Wings An Hour Ago!! -J. Wetherall', ':) -K. Winters', 'AAAH! You Missed That Like How I Miss Birds!! -T. Hillmann', 
    'Fay-leez Coop-lay-an-ohs! Maybe You Should Have Went Left! -S. Wright', 'You Failed Just Like My Banana Cream Pie Recipe! -M. Payne', 
    'I Bet You Want That Sugar Honey Iced Tea!!! -C. Maxwell', 'Ha-ha-ha! Bruja! -K. Feudner', 'You Damn Democrat! -Tia Esme', 'Ahora, Vas A Recibir El Cuchillo!!! -Rosa',
    'Hoo, hoo! You Sure As Hell Dont Know It! -B. Wangen']


    if (ball.y + ball.radius > canvas.height) {
      var phrase = phrases[Math.floor(Math.random()*phrases.length)];
      showMessage(phrase);
      ball.x = canvas.width / 2;
      ball.y = canvas.height / 2;
      ball.dx = 4;
      ball.dy = -4;
    }

    // Ball collision with walls
    if (ball.x + ball.radius > canvas.width || ball.x - ball.radius < 0) {
      ball.dx = -ball.dx;
    }
    if (ball.y - ball.radius < 0) {
      ball.dy = -ball.dy;
    }

    // Ball collision with paddle
    if (
      ball.y + ball.radius > paddle.y &&
      ball.x > paddle.x &&
      ball.x < paddle.x + paddle.width
    ) {
      ball.dy = -ball.dy;
    }

    drawBall();
    drawPaddle();

    requestAnimationFrame(updateGameArea);
  }

  document.addEventListener("keydown", (e) => {
    if (e.key === "ArrowLeft" && paddle.x > 0) {
      paddle.x -= paddle.speed;
    } else if (e.key === "ArrowRight" && paddle.x + paddle.width < canvas.width) {
      paddle.x += paddle.speed;
    }
  });

  updateGameArea();
</script>
</body>
</html>
